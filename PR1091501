#include <stdio.h>
#include <stdlib.h>

int row;
int col;
int been=999;
int matrix[1000][1000];
int spin(int curR,int curC);

int main()
{
  scanf("%d %d",&row,&col);

  for(int i=0;i<row;i++)
  {
       for(int j=0;j<col;j++)
        scanf("%d",&matrix[i][j]);
  }
  spin(0,0);
}


int spin(int curR, int curC)
{
  printf("%d ",matrix[curR][curC]);
  matrix[curR][curC]=been;

  if(curR-1 >=0 && matrix[curR-1][curC]!=been && (curC==0))
    spin(curR-1,curC);

  if(matrix[curR][curC+1]!=been && curC+1<col)
    spin(curR,curC+1);

  if(matrix[curR+1][curC]!=been && curR+1<row)
    spin(curR+1,curC);

  if(matrix[curR][curC-1]!=been && curC-1>=0)
    spin(curR,curC-1);

 return 0;
}

/*
3 3
1 2 3 
4 5 6 
7 8 9 

1 2 3 6 9 8 7 4 5
*/
